<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Preference Elicitation on Motor Trends Dataset â€¢ prefeR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Preference Elicitation on Motor Trends Dataset">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">prefeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/mtcars.html">Preference Elicitation on Motor Trends Dataset</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/jlepird/prefeR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Preference Elicitation on Motor Trends Dataset</h1>
                        <h4 data-toc-skip class="author">John
Lepird</h4>
            
            <h4 data-toc-skip class="date">2025-04-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jlepird/prefeR/blob/master/vignettes/mtcars.Rmd" class="external-link"><code>vignettes/mtcars.Rmd</code></a></small>
      <div class="d-none name"><code>mtcars.Rmd</code></div>
    </div>

    
    
<p>This vignette demonstrates how to use the <code>prefeR</code> package
on a real dataset. The <code>mtcars</code> dataset provides us such an
opportunity.</p>
<table style="width:100%;" class="table">
<caption>1974 Motor Trends Car Data</caption>
<colgroup>
<col width="26%">
<col width="7%">
<col width="5%">
<col width="7%">
<col width="5%">
<col width="7%">
<col width="8%">
<col width="8%">
<col width="4%">
<col width="4%">
<col width="7%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">mpg</th>
<th align="right">cyl</th>
<th align="right">disp</th>
<th align="right">hp</th>
<th align="right">drat</th>
<th align="right">wt</th>
<th align="right">qsec</th>
<th align="right">vs</th>
<th align="right">am</th>
<th align="right">gear</th>
<th align="right">carb</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Mazda RX4</td>
<td align="right">21.0</td>
<td align="right">6</td>
<td align="right">160</td>
<td align="right">110</td>
<td align="right">3.90</td>
<td align="right">2.620</td>
<td align="right">16.46</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">Mazda RX4 Wag</td>
<td align="right">21.0</td>
<td align="right">6</td>
<td align="right">160</td>
<td align="right">110</td>
<td align="right">3.90</td>
<td align="right">2.875</td>
<td align="right">17.02</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Datsun 710</td>
<td align="right">22.8</td>
<td align="right">4</td>
<td align="right">108</td>
<td align="right">93</td>
<td align="right">3.85</td>
<td align="right">2.320</td>
<td align="right">18.61</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Hornet 4 Drive</td>
<td align="right">21.4</td>
<td align="right">6</td>
<td align="right">258</td>
<td align="right">110</td>
<td align="right">3.08</td>
<td align="right">3.215</td>
<td align="right">19.44</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Hornet Sportabout</td>
<td align="right">18.7</td>
<td align="right">8</td>
<td align="right">360</td>
<td align="right">175</td>
<td align="right">3.15</td>
<td align="right">3.440</td>
<td align="right">17.02</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<p>If we wanted to give a user a list of their top five most preferred
cars from the <code>mtcars</code> dataset, there are three approaches we
could take:</p>
<ol style="list-style-type: decimal">
<li>Have our user manually rank all options.</li>
<li>Make the user provide weights for the desirability of different car
features, and calculate the weighted value of each option.</li>
<li>Have the user compare a small number of alternatives, and derive
their weights from those comparisons.</li>
</ol>
<p>Option #1 quickly becomes an enormous burden on the user as the
number of alternatives increases. Option #2 is difficult for the user to
do and replicate. What exactly does it mean if the weight assigned to
horsepower is double the weight assigned to fuel efficiency?</p>
<p>Option #3 is enabled by the preference elicitation package. To begin,
we create a preference elicitation object and give it our data:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jlepird/prefeR" class="external-link">prefeR</a></span><span class="op">)</span></span>
<span><span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prefEl.html">prefEl</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span></span>
<span><span class="va">p</span></span>
<span><span class="co">## Preference elicitation object with:</span></span>
<span><span class="co">##  32 observations of 11 variables.</span></span>
<span><span class="co">## And the following preferences:</span></span>
<span><span class="co">##  No strict preferences.</span></span>
<span><span class="co">##  No indifference preferences.</span></span></code></pre></div>
<p>Now we can add in our Bayesian priors for the weights. Although it is
difficult to determine weights exactly, usually one has some ballpark
estimate for what they should be, and often one knows with certainty the
sign of the weights: all else equal, everyone would prefer a more fuel
efficient car. The <code>prefeR</code> package contains three built-in
priors:</p>
<ul>
<li>
<code>Normal(mu, sigma)</code> provides a one-dimensional Normal
prior with mean mu and standard deviation sigma. This prior is useful if
you have a good guess for what the weight should be, and an
understanding of how much you expect to differ from that guess.</li>
<li>
<code>Exp(mu)</code> provides a one dimensional Exponential prior
with mean mu (not rate!). This prior is particularly useful if you
deterministically know the sign of the weight, and have a guess for the
value of the weight. The mean may be negative.</li>
<li>
<code><a href="../reference/Flat.html">Flat()</a></code> yields a completely agnostic, flat prior.</li>
</ul>
<p>We can now add in our priors for our <code>mtcars</code>
attributes.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span><span class="op">$</span><span class="va">priors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="../reference/Exp.html">Exp</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,   <span class="co"># MPG</span></span>
<span>              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># Number of cylinders (Normal() = Normal(0, 1))</span></span>
<span>              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># displacement</span></span>
<span>              <span class="fu"><a href="../reference/Exp.html">Exp</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>,   <span class="co"># horsepower</span></span>
<span>              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># real axle ratio</span></span>
<span>              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># weight</span></span>
<span>              <span class="fu"><a href="../reference/Exp.html">Exp</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span><span class="op">)</span>,  <span class="co"># quarter mile time</span></span>
<span>              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># Engine type</span></span>
<span>              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># transmission type</span></span>
<span>              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># number of gears</span></span>
<span>              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># number of carburetors</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Now, we can add in our userâ€™s preferences:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span><span class="op">$</span><span class="fu">addPref</span><span class="op">(</span><span class="st">"Pontiac Firebird"</span> <span class="op"><a href="../reference/grapes-greater-than-grapes.html">%&gt;%</a></span> <span class="st">"Fiat 128"</span><span class="op">)</span>  <span class="co"># prefer a cool sports car </span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">addPref</span><span class="op">(</span><span class="st">"Mazda RX4 Wag"</span> <span class="op"><a href="../reference/grapes-less-than-grapes.html">%&lt;%</a></span> <span class="st">"Mazda RX4"</span><span class="op">)</span>    <span class="co"># prefer not to have the station wagon</span></span>
<span><span class="va">p</span><span class="op">$</span><span class="fu">addPref</span><span class="op">(</span><span class="st">"Merc 280"</span> <span class="op"><a href="../reference/grapes-equals-grapes.html">%=%</a></span> <span class="st">"Merc 280C"</span><span class="op">)</span>         <span class="co"># indifferent about C-option</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span></span>
<span><span class="co">## Preference elicitation object with:</span></span>
<span><span class="co">##  32 observations of 11 variables.</span></span>
<span><span class="co">## And the following preferences:</span></span>
<span><span class="co">##  Pontiac Firebird preferred to Fiat 128</span></span>
<span><span class="co">##  Mazda RX4 preferred to Mazda RX4 Wag</span></span>
<span><span class="co">##  Merc 280 indifferent to Merc 280C</span></span></code></pre></div>
<p>Now, we can infer what our attribute weights should be:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span><span class="op">$</span><span class="fu">infer</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">##        mpg        cyl       disp         hp       drat         wt       qsec </span></span>
<span><span class="co">##  0.1336856  0.2014508  0.3640493  1.7910343  0.1918123 -0.5796640 -0.2831495 </span></span>
<span><span class="co">##         vs         am       gear       carb </span></span>
<span><span class="co">## -0.7242750  0.2804394  0.1602726 -0.1770446</span></span></code></pre></div>
<p>And we can get our top five cars:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span><span class="op">$</span><span class="fu">rank</span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span>
<span><span class="co">##     Maserati Bora    Ford Pantera L Chrysler Imperial        Duster 360 </span></span>
<span><span class="co">##          707.3333          599.5781          568.0578          567.2183 </span></span>
<span><span class="co">##        Camaro Z28 </span></span>
<span><span class="co">##          563.5091</span></span></code></pre></div>
<p>Finally, we can figure out what query we should answer next:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p</span><span class="op">$</span><span class="fu">suggest</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">## [1] "Toyota Corolla" "Datsun 710"</span></span></code></pre></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Lepird.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
