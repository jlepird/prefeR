<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="prefeR">
<title>Preference Elicitation on Motor Trends Dataset • prefeR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Preference Elicitation on Motor Trends Dataset">
<meta property="og:description" content="prefeR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">prefeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/mtcars.html">Preference Elicitation on Motor Trends Dataset</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/jlepird/prefeR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Preference Elicitation on Motor Trends Dataset</h1>
                        <h4 data-toc-skip class="author">John
Lepird</h4>
            
            <h4 data-toc-skip class="date">2022-04-24</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/jlepird/prefeR/blob/HEAD/vignettes/mtcars.Rmd" class="external-link"><code>vignettes/mtcars.Rmd</code></a></small>
      <div class="d-none name"><code>mtcars.Rmd</code></div>
    </div>

    
    
<p>This vignette demonstrates how to use the <code>prefeR</code> package
on a real dataset. The <code>mtcars</code> dataset provides us such an
opportunity.</p>
<table style="width:100%;" class="table">
<caption>1974 Motor Trends Car Data</caption>
<colgroup>
<col width="26%">
<col width="7%">
<col width="5%">
<col width="7%">
<col width="5%">
<col width="7%">
<col width="8%">
<col width="8%">
<col width="4%">
<col width="4%">
<col width="7%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="left"></th>
<th align="right">mpg</th>
<th align="right">cyl</th>
<th align="right">disp</th>
<th align="right">hp</th>
<th align="right">drat</th>
<th align="right">wt</th>
<th align="right">qsec</th>
<th align="right">vs</th>
<th align="right">am</th>
<th align="right">gear</th>
<th align="right">carb</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Mazda RX4</td>
<td align="right">21.0</td>
<td align="right">6</td>
<td align="right">160</td>
<td align="right">110</td>
<td align="right">3.90</td>
<td align="right">2.620</td>
<td align="right">16.46</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="left">Mazda RX4 Wag</td>
<td align="right">21.0</td>
<td align="right">6</td>
<td align="right">160</td>
<td align="right">110</td>
<td align="right">3.90</td>
<td align="right">2.875</td>
<td align="right">17.02</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">Datsun 710</td>
<td align="right">22.8</td>
<td align="right">4</td>
<td align="right">108</td>
<td align="right">93</td>
<td align="right">3.85</td>
<td align="right">2.320</td>
<td align="right">18.61</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Hornet 4 Drive</td>
<td align="right">21.4</td>
<td align="right">6</td>
<td align="right">258</td>
<td align="right">110</td>
<td align="right">3.08</td>
<td align="right">3.215</td>
<td align="right">19.44</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Hornet Sportabout</td>
<td align="right">18.7</td>
<td align="right">8</td>
<td align="right">360</td>
<td align="right">175</td>
<td align="right">3.15</td>
<td align="right">3.440</td>
<td align="right">17.02</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
<p>If we wanted to give a user a list of their top five most preferred
cars from the <code>mtcars</code> dataset, there are three approaches we
could take:</p>
<ol style="list-style-type: decimal">
<li>Have our user manually rank all options.</li>
<li>Make the user provide weights for the desirability of different car
features, and calculate the weighted value of each option.</li>
<li>Have the user compare a small number of alternatives, and derive
their weights from those comparisons.</li>
</ol>
<p>Option #1 quickly becomes an enormous burden on the user as the
number of alternatives increases. Option #2 is difficult for the user to
do and replicate. What exactly does it mean if the weight assigned to
horsepower is double the weight assigned to fuel efficiency?</p>
<p>Option #3 is enabled by the preference elicitation package. To begin,
we create a preference elicitation object and give it our data:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jlepird/prefeR" class="external-link">prefeR</a></span><span class="op">)</span>
<span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/prefEl.html">prefEl</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">mtcars</span><span class="op">)</span>
<span class="va">p</span>
<span class="co">## Preference elicitation object with:</span>
<span class="co">##  32 observations of 11 variables.</span>
<span class="co">## And the following preferences:</span>
<span class="co">##  No strict preferences.</span>
<span class="co">##  No indifference preferences.</span></code></pre></div>
<p>Now we can add in our Bayesian priors for the weights. Although it is
difficult to determine weights exactly, usually one has some ballpark
estimate for what they should be, and often one knows with certainty the
sign of the weights: all else equal, everyone would prefer a more fuel
efficient car. The <code>prefeR</code> package contains three built-in
priors:</p>
<ul>
<li>
<code>Normal(mu, sigma)</code> provides a one-dimensional Normal
prior with mean mu and standard deviation sigma. This prior is useful if
you have a good guess for what the weight should be, and an
understanding of how much you expect to differ from that guess.</li>
<li>
<code>Exp(mu)</code> provides a one dimensional Exponential prior
with mean mu (not rate!). This prior is particularly useful if you
deterministically know the sign of the weight, and have a guess for the
value of the weight. The mean may be negative.</li>
<li>
<code><a href="../reference/Flat.html">Flat()</a></code> yields a completely agnostic, flat prior.</li>
</ul>
<p>We can now add in our priors for our <code>mtcars</code>
attributes.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p</span><span class="op">$</span><span class="va">priors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="../reference/Exp.html">Exp</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,   <span class="co"># MPG</span>
              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># Number of cylinders (Normal() = Normal(0, 1))</span>
              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># displacement</span>
              <span class="fu"><a href="../reference/Exp.html">Exp</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>,   <span class="co"># horsepower</span>
              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># real axle ratio</span>
              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># weight</span>
              <span class="fu"><a href="../reference/Exp.html">Exp</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span><span class="op">)</span>,  <span class="co"># quarter mile time</span>
              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># Engine type</span>
              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># transmission type</span>
              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># number of gears</span>
              <span class="fu"><a href="../reference/Normal.html">Normal</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># number of carburetors</span>
<span class="op">)</span></code></pre></div>
<p>Now, we can add in our user’s preferences:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p</span><span class="op">$</span><span class="fu">addPref</span><span class="op">(</span><span class="st">"Pontiac Firebird"</span> <span class="op"><a href="../reference/grapes-greater-than-grapes.html">%&gt;%</a></span> <span class="st">"Fiat 128"</span><span class="op">)</span>  <span class="co"># prefer a cool sports car </span>
<span class="va">p</span><span class="op">$</span><span class="fu">addPref</span><span class="op">(</span><span class="st">"Mazda RX4 Wag"</span> <span class="op"><a href="../reference/grapes-less-than-grapes.html">%&lt;%</a></span> <span class="st">"Mazda RX4"</span><span class="op">)</span>    <span class="co"># prefer not to have the station wagon</span>
<span class="va">p</span><span class="op">$</span><span class="fu">addPref</span><span class="op">(</span><span class="st">"Merc 280"</span> <span class="op"><a href="../reference/grapes-equals-grapes.html">%=%</a></span> <span class="st">"Merc 280C"</span><span class="op">)</span>         <span class="co"># indifferent about C-option</span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p</span>
<span class="co">## Preference elicitation object with:</span>
<span class="co">##  32 observations of 11 variables.</span>
<span class="co">## And the following preferences:</span>
<span class="co">##  Pontiac Firebird preferred to Fiat 128</span>
<span class="co">##  Mazda RX4 preferred to Mazda RX4 Wag</span>
<span class="co">##  Merc 280 indifferent to Merc 280C</span></code></pre></div>
<p>Now, we can infer what our attribute weights should be:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p</span><span class="op">$</span><span class="fu">infer</span><span class="op">(</span><span class="op">)</span>
<span class="co">##         mpg         cyl        disp          hp        drat          wt </span>
<span class="co">##  0.11900920  0.28408945  0.15873962  1.64600021  0.31655538 -0.29695006 </span>
<span class="co">##        qsec          vs          am        gear        carb </span>
<span class="co">## -0.54031656  0.06812752  0.17800836 -0.15501935 -0.55898625</span></code></pre></div>
<p>And we can get our top five cars:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p</span><span class="op">$</span><span class="fu">rank</span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>
<span class="co">##     Maserati Bora    Ford Pantera L        Duster 360        Camaro Z28 </span>
<span class="co">##          590.3514          484.1416          453.0873          451.6976 </span>
<span class="co">## Chrysler Imperial </span>
<span class="co">##          439.7696</span></code></pre></div>
<p>Finally, we can figure out what query we should answer next:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p</span><span class="op">$</span><span class="fu">suggest</span><span class="op">(</span><span class="op">)</span>
<span class="co">## [1] "Dodge Challenger"   "Cadillac Fleetwood"</span></code></pre></div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by John Lepird.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
